<section class="testimonials-one-module px-[5%] py-16 md:py-24 lg:py-28">
  <div class="container">
    <div class="mx-auto mb-12 w-full max-w-lg text-center md:mb-18 lg:mb-20">
      {% inline_rich_text field="title" value="{{ module.title }}" %}
      {% inline_rich_text field="content" value="{{ module.content }}" %}
    </div>
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3">
      {% for item in module.testimonial %}
        <div class="flex w-full flex-col items-start justify-between border border-border-primary p-6 md:p-8">
          <div class="mb-5 flex md:mb-6">
            
            {% set rating_values = {
                "one": 1,
                "two": 2,
                "three": 3,
                "four": 4,
                "five": 5
            } %}

            {% set star_count = rating_values[item.star_rating] %}

            {% if star_count %}
              {% for i in range(star_count) %}
                <svg
                  stroke="currentColor"
                  fill="currentColor"
                  stroke-width="0"
                  viewBox="0 0 24 24"
                  class="mr-1 size-6"
                  height="1em"
                  width="1em"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M21.947 9.179a1.001 1.001 0 0 0-.868-.676l-5.701-.453-2.467-5.461a.998.998 0 0 0-1.822-.001L8.622 8.05l-5.701.453a1 1 0 0 0-.619 1.713l4.213 4.107-1.49 6.452a1 1 0 0 0 1.53 1.057L12 18.202l5.445 3.63a1.001 1.001 0 0 0 1.517-1.106l-1.829-6.4 4.536-4.082c.297-.268.406-.686.278-1.065z"></path>
                </svg>
              {% endfor %}
            {% endif %}

          </div>
          {% inline_rich_text field="quote" value="{{ item.quote }}" %}
          <div class="mt-5 flex w-full flex-col items-start md:mt-6 md:w-fit md:flex-row md:items-center">
              {% if item.add_image and item.testimonial_image.src %}
                  {% set loadingAttr = item.testimonial_image.loading != 'disabled' ? 'loading="{{ item.testimonial_image.loading|escape_attr }}"' : '' %}
                  <img class="mb-4 size-12 min-h-12 min-w-12 rounded-full object-cover md:mb-0 md:mr-4"
                      srcset="{{ resize_image_url(item.testimonial_image.src, 288) }} 288w,
                      {{ resize_image_url(item.testimonial_image.src, 468) }} 468w,
                      {{ resize_image_url(item.testimonial_image.src, 736) }} 736w,
                      {{ resize_image_url(item.testimonial_image.src, 928) }} 928w"
                      sizes="(max-width: 320px) 288px,
                              (max-width: 500px) 468px,
                              (max-width: 768px) 736px,
                              928px"
                      src="{{ item.testimonial_image.src }}"
                      alt="{{ item.testimonial_image.alt }}"
                      width="{{ item.testimonial_image.width }}"
                      height="{{ item.testimonial_image.height }}"
                      {{ loadingAttr }}>
              {% endif %}
            <div>
              <p class="font-semibold mb-0">{% inline_text field="author_name" value="{{ item.author_name }}" no_wrapper=true %}</p>
              <p class="mb-0">{% inline_text field="author_position" value="{{ item.author_position }}" no_wrapper=true %}</p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>



